/* empty css             *//* empty css                     *//* empty css                *//* empty css                  *//* empty css              *//* empty css                   *//* empty css              *//* empty css                  *//* empty css               *//* empty css               *//* empty css                */import{r as c}from"./request-54d9b062.js";/* empty css                    */import{r as z,o as g,c as b,b as p,d as o,w as l,g as D,G as P,D as T,H as B,I as O,J as I,y as s,C as u,K as J,L as M,M as $,P as q,Q as F,O as G}from"./index-fdd1b0eb.js";const R={class:"card",style:{"margin-bottom":"10px"}},A={class:"card",style:{"margin-bottom":"10px"}},H={style:{"margin-bottom":"10px"}},K={key:0,class:"card"},L={class:"dialog-footer"},de={__name:"Tables",setup(Q){const e=z({tableData:[],total:0,pageNum:1,pageSize:5,formVisible:!1,form:{},no:""}),i=()=>{c.get("/tables/selectPage",{params:{pageNum:e.pageNum,pageSize:e.pageSize,no:e.no}}).then(n=>{var t;e.tableData=((t=n.data)==null?void 0:t.list)||[],e.total=n.data.total})};i();const V=()=>{e.no=null,i()},y=()=>{e.form={},e.formVisible=!0},x=()=>{c.request({method:e.form.id?"PUT":"POST",url:e.form.id?"/tables/update":"/tables/add",data:e.form}).then(n=>{n.code==="200"?(u.success("操作成功"),e.formVisible=!1,i()):u.error(n.msg)})},C=n=>{e.form=JSON.parse(JSON.stringify(n)),e.formVisible=!0},k=n=>{J.confirm("删除后数据无法恢复，您确认删除吗？","确认删除",{type:"warning"}).then(t=>{c.delete("/tables/delete/"+n).then(d=>{d.code==="200"?(u.success("操作成功"),i()):u.error(d.msg)})}).catch(t=>{console.log(t)})};function E(){window.open("http://localhost:9090/tables/export")}return(n,t)=>{const d=P,r=T,m=M,h=B,w=O,f=$,_=q,N=F,v=G,S=I;return g(),b("div",null,[p("div",R,[o(d,{"prefix-icon":"Search",style:{width:"300px","margin-right":"10px"},placeholder:"请输入餐桌号查询",modelValue:e.no,"onUpdate:modelValue":t[0]||(t[0]=a=>e.no=a)},null,8,["modelValue"]),o(r,{type:"primary",onClick:i},{default:l(()=>[s("查询")]),_:1}),o(r,{type:"info",style:{margin:"0 10px"},onClick:V},{default:l(()=>[s("重置")]),_:1}),o(r,{type:"warning",onClick:E},{default:l(()=>[s("一键导出")]),_:1})]),p("div",A,[p("div",H,[o(r,{type:"success",onClick:y},{default:l(()=>[s("新增")]),_:1})]),o(h,{data:e.tableData},{default:l(()=>[o(m,{prop:"id",label:"序号",width:"70"}),o(m,{prop:"no",label:"餐桌号"}),o(m,{prop:"unit",label:"规格"}),o(m,{prop:"free",label:"是否空闲"}),o(m,{prop:"userName",label:"占用顾客"}),o(m,{label:"操作",width:"180"},{default:l(a=>[o(r,{type:"primary",onClick:U=>C(a.row)},{default:l(()=>[s("编辑")]),_:2},1032,["onClick"]),o(r,{type:"danger",onClick:U=>k(a.row.id)},{default:l(()=>[s("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),e.total?(g(),b("div",K,[o(w,{background:"",layout:"prev, pager, next",onCurrentChange:i,"page-size":e.pageSize,"current-page":e.pageNum,"onUpdate:currentPage":t[1]||(t[1]=a=>e.pageNum=a),total:e.total},null,8,["page-size","current-page","total"])])):D("",!0),o(S,{modelValue:e.formVisible,"onUpdate:modelValue":t[6]||(t[6]=a=>e.formVisible=a),title:"信息",width:"40%","destroy-on-close":""},{footer:l(()=>[p("span",L,[o(r,{onClick:t[5]||(t[5]=a=>e.formVisible=!1)},{default:l(()=>[s("取消")]),_:1}),o(r,{type:"primary",onClick:x},{default:l(()=>[s("保存")]),_:1})])]),default:l(()=>[o(v,{model:e.form,"label-width":"100px",style:{"padding-right":"50px"}},{default:l(()=>[o(f,{label:"餐桌号"},{default:l(()=>[o(d,{modelValue:e.form.no,"onUpdate:modelValue":t[2]||(t[2]=a=>e.form.no=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(f,{label:"规格"},{default:l(()=>[o(d,{modelValue:e.form.unit,"onUpdate:modelValue":t[3]||(t[3]=a=>e.form.unit=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(f,{label:"是否空闲"},{default:l(()=>[o(N,{modelValue:e.form.free,"onUpdate:modelValue":t[4]||(t[4]=a=>e.form.free=a)},{default:l(()=>[o(_,{label:"是"}),o(_,{label:"否"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}};export{de as default};
